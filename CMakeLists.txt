PROJECT(Sluk)
CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

ADD_EXECUTABLE(Sluk MACOSX_BUNDLE Sluk.cpp)

SET(CMAKE_MODULE_PATH
  "${CMAKE_SOURCE_DIR}/cmake;${CMAKE_MODULE_PATH}")
INCLUDE(ConfigMacros)

SET_TARGET_PROPERTIES(Sluk
  PROPERTIES
  COMPILE_FLAGS "-fvisibility-inlines-hidden"
  OSX_ARCHITECTURES i386
  MACOSX_BUNDLE true
  MACOSX_BUNDLE_BUNDLE_NAME "Sluk"
  MACOSX_BUNDLE_INFO_STRING "Sluk World"
  MACOSX_BUNDLE_BUNDLE_VERSION "1"
  MACOSX_BUNDLE_LONG_VERSION_STRING "1"
  MACOSX_BUNDLE_SHORT_VERSION_STRING "1"
  #MACOSX_BUNDLE_ICON_FILE "${CMAKE_CURRENT_SOURCE_DIR}/Sluk.icns"
  MACOSX_BUNDLE_GUI_IDENTIFIER "org.artm.sluk"
  MACOSX_BUNDLE_COPYRIGHT "artm")

# this list is taken from an xcode project generated by tinder
FIND_AND_LINK_LIBRARY(Accelerate Sluk)
FIND_AND_LINK_LIBRARY(AudioToolbox Sluk)
FIND_AND_LINK_LIBRARY(AudioUnit Sluk)
FIND_AND_LINK_LIBRARY(CoreAudio Sluk)
FIND_AND_LINK_LIBRARY(QuickTime Sluk)
FIND_AND_LINK_LIBRARY(QTKit Sluk)
FIND_AND_LINK_LIBRARY(CoreVideo Sluk)
FIND_AND_LINK_LIBRARY(Carbon Sluk)
FIND_AND_LINK_LIBRARY(OpenGL Sluk)
FIND_AND_LINK_LIBRARY(Cocoa Sluk)
FIND_AND_LINK_LIBRARY(AppKit Sluk)
FIND_AND_LINK_LIBRARY(CoreData Sluk)
FIND_AND_LINK_LIBRARY(Foundation Sluk)

# cinder needs some help (PATHS)
FIND_LIBRARY(cinder_LIBRARY cinder PATHS ${CINDER_ROOT}/lib)
FIND_AND_LINK_LIBRARY(cinder Sluk)
FIND_PATH(cinder_INCLUDE cinder/app/AppBasic.h PATHS ${CINDER_ROOT}/include)
REQUIRE_HEADER(cinder_INCLUDE cinder/app/AppBasic.h)

FIND_PATH(eigen_INCLUDE Eigen/Dense PATH_SUFFIXES eigen3)
REQUIRE_HEADER(eigen_INCLUDE Eigen/Dense)

FIND_PACKAGE(Boost REQUIRED)
INCLUDE_DIRECTORIES(${Boost_INCLUDE_DIRS})
#TARGET_LINK_LIBRARIES(Sluk ${Boost_LIBRARIES})

